{"version":3,"file":"insiteco-feedback.js","sourceRoot":"","sources":["../../../src/components/insiteco-feedback/insiteco-feedback.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAC1D,OAAO,mBAAmB,CAAC;AAC3B,OAAO,EAAE,UAAU,EAAE,MAAM,6CAA6C,CAAC;AAOzE,MAAM,OAAO,gBAAgB;IAI3B;yBAH8B,KAAK;QAKjC,IAAI,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,UAAU,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;QAC1D,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC9D;IAED,gBAAgB;QACd,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC;IACnC,CAAC;IAED,oBAAoB,CAAC,KAAmB;QAEtC,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;IACnD,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;YACtB,MAAM,EAAE,aAAa;YACrB,OAAO,EAAE;gBACP,GAAG,EAAE,EAAE;gBACP,KAAK,EAAE,EAAE;aACV;SACF,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACJ,OAAO,CACL,EAAC,IAAI,uDACF,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAChB,WAAK,KAAK,EAAC,wFAAwF;YACjG,WAAK,KAAK,EAAC,iCAAiC;gBAC1C,WAAK,KAAK,EAAC,oDAAoD;oBAC7D,WAAK,KAAK,EAAC,sBAAsB;wBAC/B,eAAS,KAAK,EAAC,0CAA0C;4BACvD,eAAS,KAAK,EAAC,sBAAsB,EAAC,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE;gCAC1E,WAAK,KAAK,EAAC,MAAM,EAAC,OAAO,EAAC,eAAe,EAAC,OAAO,EAAC,KAAK,EAAC,KAAK,EAAC,4BAA4B,UAAM,MAAM,EAAC,KAAK,EAAC,IAAI,EAAC,MAAM,EAAC,IAAI;oCAC3H,YACE,CAAC,EAAC,gLAAgL,UAC7K,MAAM,EACX,IAAI,EAAC,OAAO,GACN;oCACR,YACE,CAAC,EAAC,4WAA4W,UACzW,MAAM,EACX,IAAI,EAAC,OAAO,GACN,CACJ,CACE,CACF;wBACV,eAAS,KAAK,EAAC,6BAA6B;4BAC1C,qBAAe,KAAK,EAAC,eAAe,GAAG,CAC/B,CACN;oBACN,WAAK,KAAK,EAAC,0BAA0B;wBACnC,yBAAkB,CACd,CACF,CACF,CACF,CACP,CAAC,CAAC,CAAC,CACF,WAAK,KAAK,EAAE,eAAe,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE;YACjE,2BAAqB,CACjB,CACP,CACI,CACR,CAAC;IACJ,CAAC;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Host, h, State } from '@stencil/core';\nimport 'remote-web-worker';\nimport { workerPath } from '../../workers/conversation.worker.js?worker';\n\n@Component({\n  tag: 'insiteco-feedback',\n  styleUrl: 'insiteco-feedback.sass',\n  shadow: true,\n})\nexport class InsitecoFeedback {\n  @State() isVisible: boolean = false;\n  private worker: Worker;\n\n  constructor() {\n    \n    this.worker = new Worker(workerPath, { type: 'classic' });\n    this.worker.onmessage = this.handleWorkerResponse.bind(this);\n  }\n\n  toggleVisibility() {\n    this.isVisible = !this.isVisible;\n  }\n\n  handleWorkerResponse(event: MessageEvent) {\n    \n    console.log('Response from worker:', event.data);\n  }\n\n  sendRequestToWorker() {\n    this.worker.postMessage({\n      action: 'sendRequest',\n      payload: {\n        url: '',\n        token: ''  \n      }\n    });\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.isVisible ? (\n          <div class=\"flex justify-center bg-white items-center h-[500px] fixed right-4 bottom-4 rounded-2xl\">\n            <div class=\"card shadow-2xl p-4 w-96 h-full\">\n              <div class=\"card-body p-1 h-full flex flex-col justify-between\">\n                <div class=\"flex flex-col flex-1\">\n                  <section class=\"w-full flex justify-end h-8 items-center\">\n                    <section class=\"w-fit cursor-pointer\" onClick={() => this.toggleVisibility()}>\n                      <svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2766\" width=\"20\" height=\"20\">\n                        <path\n                          d=\"M807.6288 550.8096H224.2048c-17.5104 0-30.72-16.7936-30.72-38.7072s13.3632-38.7072 30.72-38.7072h583.424c17.5104 0 30.72 16.7936 30.72 38.7072s-14.0288 38.7072-30.72 38.7072z\"\n                          p-id=\"2767\"\n                          fill=\"black\"\n                        ></path>\n                        <path\n                          d=\"M807.5776 554.0352H224.2048c-19.456 0-34.0992-18.0224-34.0992-41.9328s14.6432-41.9328 34.0992-41.9328h583.3728c19.456 0 34.0992 18.0224 34.0992 41.9328 0 23.1424-15.2576 41.9328-34.0992 41.9328zM224.2048 476.6208c-15.7696 0-27.648 15.36-27.648 35.4816s11.8784 35.4816 27.648 35.4816h583.3728c15.36 0 27.648-15.9232 27.648-35.4816s-11.8784-35.4816-27.648-35.4816z\"\n                          p-id=\"2768\"\n                          fill=\"black\"\n                        ></path>\n                      </svg>\n                    </section>\n                  </section>\n                  <section class=\"mt-2 flex-1 overflow-hidden\">\n                    <insiteco-chat class=\"w-full h-full\" />\n                  </section>\n                </div>\n                <div class=\"flex flex-col gap-2 mt-3\">\n                  <insiteco-input />\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div class={'vertical-text'} onClick={() => this.toggleVisibility()}>\n            <span>Feedback</span>\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n"]}