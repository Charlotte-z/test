{"version":3,"names":["insitecoChatCss","InsitecoChatStyle0","InsitecoChat","render","h","Host","key","class","window","Worker","BaseWorker","Worker1","constructor","scriptURL","options","url","String","super","includes","startsWith","location","origin","URL","createObjectURL","Blob","type","insitecoFeedbackCss","InsitecoFeedbackStyle0","InsitecoFeedback","hostRef","this","worker","workerPath","onmessage","handleWorkerResponse","bind","toggleVisibility","isVisible","event","console","log","data","sendRequestToWorker","postMessage","action","payload","token","onClick","viewBox","version","xmlns","width","height","d","fill","insitecoInputCss","InsitecoInputStyle0","InsitecoInput","handleInput","target","inputValue","value","updateCaretPosition","resetCaretAnimation","showSendIcon","hideSendIcon","caretRef","style","animation","clearTimeout","resetTimer","setTimeout","sendIconRef","opacity","caretElement","_a","inputRef","nextElementSibling","spanRef","caretIndex","selectionStart","textContent","substring","spanWidth","offsetWidth","left","componentDidLoad","ref","el","placeholder","onInput","onKeyUp","rx","stroke"],"sources":["src/components/insiteco-chat/insiteco-chat.sass?tag=insiteco-chat&encapsulation=shadow","src/components/insiteco-chat/insiteco-chat.tsx","../../node_modules/.pnpm/remote-web-worker@0.0.9/node_modules/remote-web-worker/dist/module.js","src/components/insiteco-feedback/insiteco-feedback.sass?tag=insiteco-feedback&encapsulation=shadow","src/components/insiteco-feedback/insiteco-feedback.tsx","src/components/insiteco-input/insiteco-input.sass?tag=insiteco-input&encapsulation=shadow","src/components/insiteco-input/insiteco-input.tsx"],"sourcesContent":[":host\n  display: block","import { Component, Host, h } from '@stencil/core';\n\n@Component({\n  tag: 'insiteco-chat',\n  styleUrl: 'insiteco-chat.sass',\n  shadow: true,\n})\nexport class InsitecoChat {\n  render() {\n    return (\n      <Host class={'h-full'}>\n        <div class=\"chat chat-start\">\n          <div class=\"w-fit rounded-3xl  bg-[#f5f5fb] py-2 px-4 text-sm text-black\">I commented on Figma</div>\n        </div>\n        <div class=\"chat chat-end\">\n          <div class=\"w-fit rounded-3xl  bg-[#242625] py-2 px-4 text-sm text-white\">You underestimate my power!</div>\n        </div>\n      </Host>\n    );\n  }\n}\n","// Patch Worker to allow loading scripts from remote URLs\n//\n// It's a workaround for the fact that the Worker constructor\n// accepts only local URLs, not remote URLs:\n// https://developer.mozilla.org/en-US/docs/Web/API/Worker/Worker\n//\n// As a workaround this patched Worker constructor will\n// use `importScripts` to load the remote script.\n// https://developer.mozilla.org/en-US/docs/Web/API/WorkerGlobalScope/importScripts\n//\n// Compatibility: Chrome 4+, Firefox 4+, Safari 4+\n//\n// Usage:\n// ```ts\n// import \"remote-web-worker\";\n// ```\ntypeof window !== \"undefined\" && (Worker = ((BaseWorker)=>class Worker1 extends BaseWorker {\n        constructor(scriptURL, options){\n            const url = String(scriptURL);\n            super(// Check if the URL is remote\n            url.includes(\"://\") && !url.startsWith(location.origin) ? // to bootstrap the actual script to work around the same origin policy.\n            URL.createObjectURL(new Blob([\n                // Replace the `importScripts` function with\n                // a patched version that will resolve relative URLs\n                // to the remote script URL.\n                //\n                // Without a patched `importScripts` Webpack 5 generated worker chunks will fail with the following error:\n                //\n                // Uncaught (in promise) DOMException: Failed to execute 'importScripts' on 'WorkerGlobalScope':\n                // The script at 'http://some.domain/worker.1e0e1e0e.js' failed to load.\n                //\n                // For minification, the inlined variable names are single letters:\n                // i = original importScripts\n                // a = arguments\n                // u = URL\n                `importScripts=((i)=>(...a)=>i(...a.map((u)=>''+new URL(u,\"${url}\"))))(importScripts);importScripts(\"${url}\")`\n            ], {\n                type: \"text/javascript\"\n            })) : scriptURL, options);\n        }\n    })(Worker));\n\n\n//# sourceMappingURL=module.js.map\n",":host\n  display: block\n\n\n\n.vertical-text\n  position: fixed\n  right: 0\n  top: 50%\n  transform: translateY(-50%)\n  background-color: #4285f4\n  color: white\n  padding: 0.5rem 1rem\n  border-radius: 0.25rem\n  cursor: pointer\n  font-family: Inter, Helvetica, Arial, sans-serif\n  letter-spacing: -0.025em\n  transform: translateY(-50%) rotateZ(-90deg) translateX(50%)\n  transform-origin: 100% 100%\n  white-space: nowrap\n  box-shadow: rgba(0, 0, 0, 0.1) -4px -12px 25px 0px","import { Component, Host, h, State } from '@stencil/core';\nimport 'remote-web-worker';\nimport { workerPath } from '../../workers/conversation.worker.js?worker';\n\n@Component({\n  tag: 'insiteco-feedback',\n  styleUrl: 'insiteco-feedback.sass',\n  shadow: true,\n})\nexport class InsitecoFeedback {\n  @State() isVisible: boolean = false;\n  private worker: Worker;\n\n  constructor() {\n    \n    this.worker = new Worker(workerPath, { type: 'classic' });\n    this.worker.onmessage = this.handleWorkerResponse.bind(this);\n  }\n\n  toggleVisibility() {\n    this.isVisible = !this.isVisible;\n  }\n\n  handleWorkerResponse(event: MessageEvent) {\n    \n    console.log('Response from worker:', event.data);\n  }\n\n  sendRequestToWorker() {\n    this.worker.postMessage({\n      action: 'sendRequest',\n      payload: {\n        url: '',\n        token: ''  \n      }\n    });\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.isVisible ? (\n          <div class=\"flex justify-center bg-white items-center h-[500px] fixed right-4 bottom-4 rounded-2xl\">\n            <div class=\"card shadow-2xl p-4 w-96 h-full\">\n              <div class=\"card-body p-1 h-full flex flex-col justify-between\">\n                <div class=\"flex flex-col flex-1\">\n                  <section class=\"w-full flex justify-end h-8 items-center\">\n                    <section class=\"w-fit cursor-pointer\" onClick={() => this.toggleVisibility()}>\n                      <svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2766\" width=\"20\" height=\"20\">\n                        <path\n                          d=\"M807.6288 550.8096H224.2048c-17.5104 0-30.72-16.7936-30.72-38.7072s13.3632-38.7072 30.72-38.7072h583.424c17.5104 0 30.72 16.7936 30.72 38.7072s-14.0288 38.7072-30.72 38.7072z\"\n                          p-id=\"2767\"\n                          fill=\"black\"\n                        ></path>\n                        <path\n                          d=\"M807.5776 554.0352H224.2048c-19.456 0-34.0992-18.0224-34.0992-41.9328s14.6432-41.9328 34.0992-41.9328h583.3728c19.456 0 34.0992 18.0224 34.0992 41.9328 0 23.1424-15.2576 41.9328-34.0992 41.9328zM224.2048 476.6208c-15.7696 0-27.648 15.36-27.648 35.4816s11.8784 35.4816 27.648 35.4816h583.3728c15.36 0 27.648-15.9232 27.648-35.4816s-11.8784-35.4816-27.648-35.4816z\"\n                          p-id=\"2768\"\n                          fill=\"black\"\n                        ></path>\n                      </svg>\n                    </section>\n                  </section>\n                  <section class=\"mt-2 flex-1 overflow-hidden\">\n                    <insiteco-chat class=\"w-full h-full\" />\n                  </section>\n                </div>\n                <div class=\"flex flex-col gap-2 mt-3\">\n                  <insiteco-input />\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div class={'vertical-text'} onClick={() => this.toggleVisibility()}>\n            <span>Feedback</span>\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n",":host\n  display: block\n\n.custom-cursor-container\n  position: relative\n\n.hidden-cursor-span\n  position: absolute\n  visibility: hidden\n  white-space: pre \n\n.custom-cursor-input\n  position: relative\n  caret-color: transparent \n  width: 100%\n  padding: 6px 16px\n  border: 1px solid #ccc\n  border-radius: 4px\n  font-size: 16px\n\n.custom-caret\n  position: absolute\n  top: 8px \n  left: 16px \n  width: 2px \n  height: 1.3em \n  background-color: black \n  animation: blink 1s linear infinite \n  pointer-events: none \n  z-index: 1 \n\n@keyframes blink\n  0%\n    opacity: 1\n  50%\n    opacity: 0\n  100%\n    opacity: 1\n\n.send-icon\n  position: absolute\n  right: 16px\n  top: 7px\n  transform: translateY(-50%) scale(0)\n  opacity: 0\n  pointer-events: none\n\n  svg\n    width: 24px\n    height: 24px\n\n\n@keyframes popIn\n  0%\n    transform: scale(0)\n    opacity: 0\n  70%\n    transform: scale(1.05)\n    opacity: 1\n  100%\n    transform: scale(1)\n    opacity: 1\n\n@keyframes popOut\n  0%\n    transform: scale(1)\n    opacity: 1\n  100%\n    transform: scale(0)\n    opacity: 0","import { Component, Host, h, State } from '@stencil/core';\n\n@Component({\n  tag: 'insiteco-input',\n  styleUrl: 'insiteco-input.sass',\n  shadow: true,\n})\nexport class InsitecoInput {\n  @State() inputValue: string = '';\n\n  private inputRef!: HTMLInputElement;\n  private spanRef!: HTMLSpanElement;\n  private caretRef!: HTMLDivElement;\n  private sendIconRef!: HTMLDivElement;\n  private resetTimer: any;\n\n  handleInput(event: InputEvent) {\n    const target = event.target as HTMLInputElement;\n    this.inputValue = target.value;\n    this.updateCaretPosition();\n    this.resetCaretAnimation();\n\n    if (this.inputValue) {\n      this.showSendIcon();\n    } else {\n      this.hideSendIcon();\n    }\n  }\n\n  resetCaretAnimation() {\n    if (this.caretRef) {\n      this.caretRef.style.animation = 'none';\n      void this.caretRef.offsetWidth;\n      this.caretRef.style.animation = 'blink 1s linear infinite';\n\n      clearTimeout(this.resetTimer);\n      this.resetTimer = setTimeout(() => {\n        this.caretRef.style.animation = 'blink 1s linear infinite';\n      }, 500);\n    }\n  }\n\n  showSendIcon() {\n    if (this.sendIconRef) {\n      this.sendIconRef.style.opacity = '1';\n      this.sendIconRef.style.animation = 'popIn 0.2s ease-out forwards';\n    }\n  }\n\n  hideSendIcon() {\n    if (this.sendIconRef) {\n      this.sendIconRef.style.animation = 'popOut 0.1s ease-in forwards';\n    }\n  }\n\n  updateCaretPosition() {\n    const caretElement = this.inputRef?.nextElementSibling as HTMLElement;\n    if (!caretElement || !this.inputRef || !this.spanRef) return;\n\n    const caretIndex = this.inputRef.selectionStart || 0;\n\n    this.spanRef.textContent = this.inputValue.substring(0, caretIndex);\n\n    const spanWidth = this.spanRef.offsetWidth;\n\n    caretElement.style.left = `${spanWidth + 16}px`;\n  }\n\n  componentDidLoad() {\n    this.updateCaretPosition();\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"relative custom-cursor-container\">\n          <span ref={el => (this.spanRef = el as HTMLSpanElement)} class=\"hidden-cursor-span\"></span>\n          <input\n            type=\"text\"\n            class=\"custom-cursor-input outline-none rounded-xl bg-[#f5f5fd] border-none text-black\"\n            ref={el => (this.inputRef = el as HTMLInputElement)}\n            placeholder=\"Search\"\n            onInput={event => this.handleInput(event)}\n            onKeyUp={() => this.updateCaretPosition()}\n            onClick={() => this.updateCaretPosition()}\n          />\n\n          <div class=\"custom-caret\" ref={el => (this.caretRef = el as HTMLDivElement)}></div>\n\n          <div class=\"send-icon\" ref={el => (this.sendIconRef = el as HTMLDivElement)}>\n            <svg width=\"30\" height=\"30\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <rect width=\"40\" height=\"40\" rx=\"20\" fill=\"#4F46E5\" />\n              <path\n                d=\"M25.9853 19.2629L25.9853 19.2628L21.1581 14.4356L21.0781 14.3556V14.4688V28.25C21.0781 28.536 20.9645 28.8102 20.7623 29.0124C20.5601 29.2146 20.2859 29.3282 20 29.3282C19.714 29.3282 19.4398 29.2146 19.2376 29.0124C19.0354 28.8102 18.9218 28.536 18.9218 28.25V14.4688V14.3557L18.8418 14.4356L14.0128 19.2628L14.0128 19.2628C13.8102 19.4654 13.5355 19.5792 13.249 19.5792C12.9626 19.5792 12.6878 19.4654 12.4853 19.2628C12.2827 19.0603 12.1689 18.7856 12.1689 18.4991C12.1689 18.2126 12.2827 17.9379 12.4853 17.7354L19.2353 10.9854L19.2353 10.9853C19.3355 10.8848 19.4545 10.8051 19.5856 10.7506C19.7166 10.6962 19.8571 10.6682 19.999 10.6682C20.1409 10.6682 20.2814 10.6962 20.4125 10.7506C20.5435 10.8051 20.6625 10.8848 20.7627 10.9853L20.7628 10.9854L27.5128 17.7354L27.5128 17.7354C27.6133 17.8356 27.6931 17.9546 27.7475 18.0857C27.8019 18.2167 27.8299 18.3572 27.8299 18.4991C27.8299 18.641 27.8019 18.7815 27.7475 18.9125C27.6931 19.0436 27.6133 19.1626 27.5128 19.2628L27.5127 19.2629C27.4125 19.3634 27.2935 19.4431 27.1625 19.4976C27.0314 19.552 26.8909 19.58 26.749 19.58C26.6071 19.58 26.4666 19.552 26.3356 19.4976C26.2045 19.4431 26.0855 19.3634 25.9853 19.2629Z\"\n                fill=\"white\"\n                stroke=\"white\"\n                stroke-width=\"0.09375\"\n              />\n            </svg>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}